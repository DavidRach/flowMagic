[{"path":"https://davidrach.github.io/flowMagic/articles/Documentation.html","id":"abstract","dir":"Articles","previous_headings":"","what":"Abstract","title":"Documentation","text":"pdf describes usage main flowMagic functions reports examples typical flowMagic scripts. function usually contains many parameters, mentioned document. detailed documentation parameter function can found flowMagic manual.pdf document pkg manual github directory.","code":""},{"path":"https://davidrach.github.io/flowMagic/articles/Documentation.html","id":"installation","dir":"Articles","previous_headings":"","what":"Installation","title":"Documentation","text":"easiest way install owMagic directly github: user can also download package locally install package folder: following libraries required: Note flowMagic requires old version sf package. particular, flowMagic tested R 3.5.2 sf package version 0.7.2. highly recommended use provided docker container required packages installed.","code":"install_github(\"semontante/flowMagic\",ref=\"main\") install.packages(\"path/to/flowMagic.tar.gz\",repos=NULL,type=\"source\") library(sp) library(stringr) library(ggplot2) library(parallel) library(doParallel) library(randomForest) library(caret) library(concaveman) library(sm) library(pracma) library(sf) library(stats) library(grDevices) library(flowMagic)"},{"path":"https://davidrach.github.io/flowMagic/articles/Documentation.html","id":"input","dir":"Articles","previous_headings":"","what":"Input","title":"Documentation","text":"2 types input: ungated data analyze trained model use gating. ungated data within directory containing bivariate marker expression images analysis. particular, marker expression must reported csv file whose first second column report expression , respectively, first second marker. row refers expression single event/cell. ’s example correctly formatted csv file: trained model can either templates model generalized model. template model needed automatically gate data based patterns de ned user. training data generate model extracted user data analyze containing combination markers. generalized model trained large FCMdataset containing di erent combinations markers extracted di erent projects unrelated dataset analysis. owMagic package includes generalized model inst/data folder trained Project Discovery data. users can train generalized model manage generate large dataset FCM data di erent combinations markers. template model generalized model require training data csv format 3 columns csv le train. csv le represents bivariate marker expression ( rst second column) associated gates (third column, also classes column). numerical label indicates di erent gate. Note 0 label always indicates background events. words, events gate. next sections show example automated gating using template model example gating using generalized model.","code":"##   PE-CF594-A FITC-A ## 1      2.985  3.137 ## 2      2.433  2.752 ## 3      2.942  2.914 ## 4      2.874  3.121 ## 5      1.805  2.119 ## 6      1.925  2.712 ## 7      0.871  2.560 ## 8      2.782  2.836 ## 9      2.645  2.265 ##   PE-CF594-A FITC-A Classes ## 1      2.985  3.137       1 ## 2      2.433  2.752       2 ## 3      2.942  2.914       2 ## 4      2.874  3.121       1 ## 5      1.805  2.119       0 ## 6      1.925  2.712       0 ## 7      0.871  2.560       1 ## 8      2.782  2.836       1 ## 9      2.645  2.265       1"},{"path":"https://davidrach.github.io/flowMagic/articles/Documentation.html","id":"automated-gating-using-the-template-model","dir":"Articles","previous_headings":"","what":"Automated gating using the template model","title":"Documentation","text":"First, necessary import ungated data using import test set csv function. user needs indicate path directory containing unlabeled csv les analysis. two columns, function import rst two columns. user can also parallelize importing process using cores. list test data list element dataframe two columns containing bivariate marker expression CSV le. generate template model necessary import reference data use training. user needs provide path directory containing labeled csv les. CSV les need contain 3 columns third column reporting labels event. list data ref also list dataframes. list input pre-processing function needed prepare data training. get train data function generates correctly formatted training set raw reference data, extracting density features needed training. function includes several parameters. example, user can choose number cores speed pre-processing can choose perform downsampling data. default, function considers 90% input data. data also normalized default, user can also choose disable normalization. bivariate plots extreme outliers, like sparse events angle plot, disabling normalization may improve accuracy. , user needs select indices train set validation set cross-validation method perform training. multiple possible methods, see appropriate function documentation complete list methods. shown example performs leave--cross-validation. , training can begin. user can choose model use training. model di erent parameters default values users can change. random forest default number trees (n trees=10) used default: case one template 2 templates, suggested use --bag cross validation default cross validation method cases. Note user need input cross-validation indices using --bag method. Finally, prediction step can performed. user needs provide unlabeled data imported beginning trained model. user also provides pre-processed data used training (previous ref train variable), prediction function can also calculate template-target distance analysis. list dfs pred variable nested list. element list contains prediction information related one plot. prediction information consists list several dataframes outputs referring di erent steps prediction process one plot. important dataframe dataframe reporting predicted labels associated events input original data. See appropriate function documentation details outputs. user provided pre-processed training set used training, vec dist slot contain vector target-template distances plot used template. dataframes nested element refer gating downsampled data (case downsampling applied prediction step) normalized data. downsampling applied default using template model. downsampling applied default using generalized model.","code":"list_test_data<-import_test_set_csv(path_data = \"path/to/data\", n_cores=8) list_data_ref<-import_reference_csv(path_results = \"path/to/data\",n_cores = 8) # normalized data, no downsampling ref_train<-get_train_data(paths_file = list_data_ref,n_cores = 8)  # normalized data, yes downsampling ref_train<-get_train_data(paths_file = list_data_ref,prop_down = 0.90, n_cores = 8) # consider only 90\\% of the events for each plot.  ref_train<-get_train_data(paths_file = list_data_ref,n_points_per_plot = 500, n_cores = 8) # consider only 500 points for each plot.  # no normalized data, no downsampling  ref_train<-get_train_data(paths_file = list_data_ref,n_cores = 8, normalize_data=FALSE) list_inds_cross_val<-get_indices_cross_val(df_train = ref_train, train_inds = \"leave_one_out\",val_inds = \"leave_one_out\") ref_model_info<-magicTrain(df_train = ref_train,train_model = \"rf\", list_index_train = list_inds_cross_val$inds_train,list_index_val = list_inds_cross_val$inds_val) ref_model_info<-magicTrain(df_train = ref_train,train_model = \"rf\",  method_control=\"oob\") list_dfs_pred<-magicPred_all(list_test_data = list_test_data, ref_model_info = ref_model_info,ref_data_train = ref_train) # Selecting the final dataframe of the first gated plot. # The third column contains the predicted labels. df_temp<-list_dfs_pred[[1]]$final_df"},{"path":"https://davidrach.github.io/flowMagic/articles/Documentation.html","id":"automated-gating-using-the-generalized-model","dir":"Articles","previous_headings":"","what":"Automated gating using the generalized model","title":"Documentation","text":"apply generalized model, user can use prediction function described previous section. di erence related arguments used. two models use case. Model predicts number gates plot, Model B predicts gates boundaries based predicted number gates. di erent Model B possible number gates (e.g., Model B.2 predicts two gates boundaries, Model B.3 predicts 3 gates boundaries). magic model argument requires list Model B number gates, magic model n gates requires Model . Based value predicted Model , appropriate Model B.X used list Model B. owMagic R package already provides two types models. users can also generate generalized model using owMagic training function described next section. also possible force function predict pre-de ned number gates. su cient replace number gates model integer indicating number gates. appropriate Model B selected list Model B provided. Finally, also possible provide single model predicting directly gate boundaries. default, applying generalized model, data downsampled 500 points speed execution. addition, number events considered need consistent downsampling performed training generalized model. polygons calculated downsampled data overlapped original data get true number events gate. See function documentation details argument.","code":"out_pred<-magicPred_all(test_data = list_test_data,magic_model = list_magic_models, magic_model_n_gates = random_forest_model_pred_n_gates_index, n_cores = 8) out_pred<-magicPred_all(test_data = list_test_data,magic_model = list_magic_models,magic_model_n_gates = 3,n_cores  = 8) # to predict boundaries associated to 3 gates.  out_pred<-magicPred_all(test_data = list_test_data,magic_model = list_magic_models,magic_model_n_gates = 4,n_cores  = 8) # to predict boundaries associated to 4 gates. out_pred<-magicPred_all(test_data = list_test_data,magic_model = single_model,magic_model_n_gates = NULL,n_cores = 8)"},{"path":"https://davidrach.github.io/flowMagic/articles/Documentation.html","id":"example-of-full-scripts-using-either-template-or-generalized-model","dir":"Articles","previous_headings":"","what":"Example of full scripts using either template or generalized model","title":"Documentation","text":"Example correct script using template model Example correct script using generalized model. mentioned previously, possible generate generalized model following instructions provided appropriate section(see generalized model training section).","code":"#loadlibraries  library(sp)  library(stringr)  library(ggplot2)  library(parallel)  library(doParallel)  library(randomForest)  library(caret)  library(concaveman)  library(sm)  library(pracma)  library(sf)  library(stats)  library(grDevices)  library(flowMagic)  #------------using template model with1template  #getpathto directorywith files toanalyze  path_dir<-system.file(\"extdata\",package =\"flowMagic\")  #importdatawithlabelsthatwe useastemplatedata.  list_data_ref<-import_reference_csv(path_results=path_dir,n_cores=1)  #importdatawithoutlabels  list_test_data<-import_test_set_csv(path_data= path_dir,n_cores=1)  #Notethatit is possible toprovidealsodirectlythepathstoeachfile.Seefunctionsmanualforadditional  details.  #datapreprocessingtogeneratetemplatemodel usingfirstfileastemplate  ref_train<-get_train_data(paths_file =list_data_ref[1],n_cores=1) #weselectfirstelementoftheimportedlist  ofdataframes  #generatethetemplatemodelusingout-of-the-bagvalidation  ref_model_info<-magicTrain(df_train=ref_train,n_cores =1,train_model= \"rf\")  #performautomatedgating(gatesboundariesprediction step)  list_dfs_pred<-magicPred_all(list_test_data= list_test_data,magic_model=NULL,ref_data_train= ref_train,  ref_model_info =ref_model_info,n_cores=8)  #Notethatprovidingthetrainingsetin themagicPred function is optional (ref_data_train=ref_trainisoptional).  #Providingthe trainingsetallowstheuserto calculate the target-templatedistanceforeachplot to analyze.  #list_dfs_pred containsalistofdataframesforeachplotanalyzed.Inother words, itisanestedlist(e.g.,  downsampleddatasetandoriginaldatasetwithpredictedlabelsforeachplot).Seethefunctionsmanualforthe  fulllistofdataframesreturned.  #visualizegateddata  df_temp<-list_dfs_pred[[1]]$df_test_original #dataframe offirstgatedplot  magicPlot(df =df_temp,type =\"ML\",size_points = 1)  magicPlot(df =df_temp,type =\"dens\",size_points= 1)  #------------using template model withmultiple templates  #getpathto directorywith files toanalyze  path_dir<-system.file(\"extdata\",package =\"flowMagic\")  #importdatawithlabelsthatwe useastemplatedata.  list_data_ref<-import_reference_csv(path_results=path_dir,n_cores=1)  #importdatawithoutlabels  list_test_data<-import_test_set_csv(path_data= path_dir,n_cores=1)  #Notethatit is possible toprovidealsodirectlythepathstoeachfile.Seefunctionsmanualforadditional  details.  #datapreprocessingforgeneratetemplatemodelusingmultipletemplates  ref_train<-get_train_data(paths_file =list_data_ref,n_cores= 1) #weselectallelementsoftheimportedlistof  dataframes  #indicesforleave-one-outcross-validation when training multipletemplates.  list_inds_cross_val<-get_indices_cross_val(df_train=ref_train,n_cores=8,train_inds=\"leave_one_out\",  val_inds=\"leave_one_out\")  #generatetemplatemodelusingleave-one-outcrossvalidation validation.  ref_model_info<-magicTrain(df_train=ref_train,n_cores =8,train_model= \"rf\",  list_index_train =list_inds_cross_val$inds_train,list_index_val=list_inds_cross_val$inds  _val)  #performautomatedgating(gatesboundariesprediction step)  list_dfs_pred<-magicPred_all(list_test_data= list_test_data,magic_model=NULL,ref_data_train= ref_train,  ref_model_info =ref_model_info,n_cores=8)  #visualizegateddata  df_temp<-list_dfs_pred[[1]]$df_test_original #dataframe offirstgatedplot  magicPlot(df =df_temp,type =\"ML\",size_points = 1)  magicPlot(df =df_temp,type =\"dens\",size_points= 1) #loadlibraries  library(sp)  library(stringr)  library(ggplot2)  library(parallel)  library(doParallel)  library(randomForest)  library(caret)  library(concaveman)  library(sm)  library(pracma)  library(sf)  library(stats)  library(grDevices)  library(flowMagic)  library(flowMagic)  #Thefirststepis todownload thetrainedgeneralized model (Model AandlistofModelB)from x.  #extractthetar.gzfileandload the models.  model_a<-load(\"./training_rf_index_3000train10val_2ntree_500points_100folds_31000_consensus_plots_pred_n_gates.  RData\")  model_b_list<-load(\"./list_models_all_n_gates.RData\")  #getpathto directorywith files toanalyze  path_dir<-system.file(\"extdata\",package =\"flowMagic\")  #importdatawithoutlabels  list_test_data<-import_test_set_csv(path_data= path_dir,n_cores=1)  #performautomatedgating(gatesboundariesprediction step)  list_dfs_pred<-magicPred_all(list_test_data= list_test_data,magic_model=model_b_list,  magic_model_n_gates = model_a,n_cores= 1)  #visualizegateddata  df_temp<-list_dfs_pred[[1]]$df_test_original #dataframe offirstgatedplot  magicPlot(df =df_temp,type =\"ML\",size_points = 1)  magicPlot(df =df_temp,type =\"dens\",size_points= 1)"},{"path":"https://davidrach.github.io/flowMagic/articles/Documentation.html","id":"generalized-model-training-only-exper-users","dir":"Articles","previous_headings":"","what":"Generalized model training (only exper users)","title":"Documentation","text":"section related users experience training machine learning algorithms. Users machine learning experience can skip section. order generate generalized model required import dataset use training.get train data function generates correctly formatted training set raw reference data,extracting density features needed training.input can either list labeled dataframes(third column indicating thelabel assigned event) paths lead labeled data. Since data required train generalized model usually large, providing paths maybe best option instead importing raw data memory.paths format can either vector paths pointing directly labeled dataframe two-columns data frame first column indicating path expression data second column indicating path tothe labels event. Note data normalized default. Since data generalized model usually verylarge size, suggested perform 500 points downsampling orsimilar avoid overcoming machine memory speed training.also default option. mentioned , generalized model composed two models: Model Model B. order generate Model , users need provide data containing plots different number gates. need extract cross-validation indices selecting number random plots training set number gates number randomplots validation set number gates. nfolds argument indicates number times process repeated. Finally, users need execute training indicating number gates response variable. order generate Model B specific number gates,users need provide data related plots specific number gates. , cross-validation indices need extracted indicating number random plots training set number plots validation set. Finally,users need execute training indicating gates assignment (classes column) response variable. users can also train model considering gates boundaries numbers gates. case, need provide original complete dataframe containing plots numbers gates.users need extract cross-validation indices selecting number random plots training set number gates number random plots validation set number gates.","code":"df_train <- get_train_data(df_paths=df_paths,n_cores =1,n_points_per_plot= 500) # using dataframes of paths and 500 points downsampling.  df_train <- get_train_data(paths_file=vec_paths,n_cores =1,n_points_per_plot= 500)# using vector of paths to labeled dataframes and 500 points downsampling. # generate cross-validation indices using 1000 training plots and 50 validation plots for 50 repetitions. list_inds_cross_val<-get_indices_cross_val(df_train=df_train,n_cores=4     train_inds=\"rand_set_n_gates_info\", n_train_plots=1000, n_folds=50,     val_inds= \"rand_set_n_gates_info\", n_val_plots=50)  # generate the generalized model using randomforest. random_forest_model<-magicTrain(df_train =df_train, n_cores= 4, train_model=\"rf\",     list_index_train=list_inds_cross_val$inds_train,     list_index_val =list_inds_cross_val$inds_val,n_tree =10,type_y=\"n_gates_info\") # Selecting only plots with 2 gates. df_train_ngates_selected <- df_train[df_train$n_gates_info==2,]  row.names(df_train_ngates_selected) <- NULL # get cross-validation indices using 300 training plots and 5 validation plots for 50 repetitions.   list_inds_cross_val <- get_indices_cross_val(df_train=df_train_ngates_selected,     n_cores=8, train_inds= \"rand_set_num\", n_train_plots= 300, n_folds =100, seed=50,val_inds=\"rand_set_num\",n_val_plots= 5)  # generate the generalized model for the gates boundaries of the specific numberof classes. random_forest_model <- magicTrain(df_train =df_train_ngates_selected, n_cores=4,     train_model=\"rf\",list_index_train=list_inds_cross_val$inds_train,     list_index_val= list_inds_cross_val$inds_val, n_tree =10,     type_y =\"classes\") #generate cross-validation indices using 1000 training plots and 50 validation plots for 50 repetitions.  list_inds_cross_val <- get_indices_cross_val(df_train=df_train, n_cores=4,     train_inds=\"rand_set_n_gates_info\", n_train_plots=1000, n_folds=50,      val_inds= \"rand_set_n_gates_info\", n_val_plots=50)  # generate the generalized model for the gates boundaries for all number of gates. random_forest_model <- magicTrain(df_train =df_train, n_cores =4, train_model=\"rf\",     list_index_train =list_inds_cross_val$inds_train, list_index_val= list_inds_cross_val$inds_val,n_tree =10, type_y =\"classes\")"},{"path":"https://davidrach.github.io/flowMagic/articles/Documentation.html","id":"visualizing-options","dir":"Articles","previous_headings":"","what":"Visualizing options","title":"Documentation","text":"possible visualize gated plot using visualization framework flowMagic package. magicPlot() function can used plot scatterplot gated plot interest. possible visualize gates assignment standard scatterplot (events colored based gates) possible visualize polygons bivariate density scatterplot.","code":"magicPlot(df =df_temp,type =\"ML\") # gates assignment visualization magicPlot(df =df_temp,type =\"dens\") # Bivariate density plot with polygons visualization."},{"path":"https://davidrach.github.io/flowMagic/articles/Documentation.html","id":"automatically-replicate-pre-defined-hierarchy-gatingset-and-fcs-files","dir":"Articles","previous_headings":"","what":"Automatically replicate pre-defined hierarchy: GatingSet and FCS files","title":"Documentation","text":"Note: functions described section tested flowCore version 1.11.20 flowWorkspace 0.5.40. Newer packages may compatible functions. flowMagic also compatible GatingSet FCS files. format useful case user want generate csv files gating step. mode execution, flowMagic automatically trains gating step predeterminned hierarchy automatically gate FCS files interest based combinations markers indicated gating hierarchy.gating hierarchy information contained within GatingSet Robject generated user using flowWorkspace package. example, users can use flowDensity gate speci c number FCS files store gated results GatingSet object. Alternatively,users can manually gate FCS files using FlowJo software can export WSP file flowMagic automatically convert GatingSet object. GatingSet object can used automatically generate template model gating step hierarchy. Note: mode execution compatible template model.generalized model used mode. First, Gating Set needs imported. also need import CSV files analyze. Note FCS files need channel names. default first FCS chosen reference check channel names .FCS channel names different chosen reference excluded. Next, get thet list training sets gating step hierarchy also prepate data analyze. Finally, user can execute training training set prediction based hierarchy structure. variable list_gated_data contains labeled dataset gating step.","code":"gs_sample_gated<-import_gating_info(path=\"path/to/data\") gh_sample_gated_1<-gs_sample_gated[[1]] #firsttemplate gh_sample_gated_2<-gs_sample_gated[[2]] #secondtemplate. fs <- import_test_set_fcs(path=     \"/home/rstudio/final_data_test/HIPC_test_data/Myeloid_paneltest_fcs\",      n_samples=1, ref_f_n=1) #import gating hierarchy from the GatingHierarchy object which contains the gating hierarchy information of the sample.  out <-get_hierarchy_all_pops(gh=gh_sample_gated_1,export_visnet =FALSE)  # Extract all training data. list_all_train_sets_1<-get_local_train_sets(gh=gh_sample_gated_1     hierarchical_tree=out$hierarchical_tree, info_hierarchy=out)  list_all_train_sets_2<-get_local_train_sets(gh=gh_sample_gated_2     hierarchical_tree=out$hierarchical_tree, info_hierarchy=out) list_all_test_sets<-get_test_sets(fs,gh=gh_sample_gated_1) out_train <- magicTrain_hierarchy(list_train_sets = list_all_train_sets_1,n_cores = 8)  list_models <- out_train$list_models_sets_all_levels  list_gated_data <- magicPred_hierarchy(list_test_sets=list_all_test_sets,     list_models_local = list_models,df_tree = out$df_tree,n_cores = 1) # extract gated results of the Singlets populations for first example  df_gated_1 <- list_gated_data[[1]]$ level:6 $Singlets$gated_data  # Visualize gated population. magicPlot(df=df_gated_1,type = \"ML\") sessionInfo() ## R version 4.5.1 (2025-06-13 ucrt) ## Platform: x86_64-w64-mingw32/x64 ## Running under: Windows 11 x64 (build 26100) ##  ## Matrix products: default ##   LAPACK version 3.12.1 ##  ## locale: ## [1] LC_COLLATE=English_United States.utf8  ## [2] LC_CTYPE=English_United States.utf8    ## [3] LC_MONETARY=English_United States.utf8 ## [4] LC_NUMERIC=C                           ## [5] LC_TIME=English_United States.utf8     ##  ## time zone: Etc/GMT+5 ## tzcode source: internal ##  ## attached base packages: ## [1] parallel  stats     graphics  grDevices utils     datasets  methods   ## [8] base      ##  ## other attached packages: ##  [1] flowMagic_0.99.1     sf_1.0-21            pracma_2.4.6         ##  [4] sm_2.2-6.0           concaveman_1.2.0     caret_7.0-1          ##  [7] lattice_0.22-7       randomForest_4.7-1.2 doParallel_1.0.17    ## [10] iterators_1.0.14     foreach_1.5.2        ggplot2_3.5.2        ## [13] stringr_1.5.1        sp_2.2-0             ##  ## loaded via a namespace (and not attached): ##   [1] RColorBrewer_1.1-3   jsonlite_1.8.8       magrittr_2.0.3       ##   [4] farver_2.1.1         rmarkdown_2.29       fs_1.6.6             ##   [7] ragg_1.4.0           vctrs_0.6.5          htmltools_0.5.8.1    ##  [10] curl_6.4.0           pROC_1.19.0.1        sass_0.4.10          ##  [13] parallelly_1.45.1    KernSmooth_2.23-26   bslib_0.9.0          ##  [16] htmlwidgets_1.6.4    desc_1.4.3           plyr_1.8.9           ##  [19] plotly_4.11.0        lubridate_1.9.3      cachem_1.1.0         ##  [22] mime_0.13            lifecycle_1.0.4      pkgconfig_2.0.3      ##  [25] Matrix_1.7-3         R6_2.6.1             fastmap_1.2.0        ##  [28] future_1.67.0        shiny_1.11.1         magic_1.6-1          ##  [31] digest_0.6.35        colorspace_2.1-0     patchwork_1.3.1      ##  [34] S4Vectors_0.46.0     textshaping_1.0.1    cytolib_2.20.0       ##  [37] timechange_0.3.0     httr_1.4.7           abind_1.4-8          ##  [40] compiler_4.5.1       proxy_0.4-27         withr_3.0.2          ##  [43] DBI_1.2.3            hexbin_1.28.3        MASS_7.3-65          ##  [46] lava_1.8.2           classInt_0.4-11      ModelMetrics_1.2.2.2 ##  [49] tools_4.5.1          units_1.0-0          httpuv_1.6.16        ##  [52] future.apply_1.20.0  nnet_7.3-20          glue_1.8.0           ##  [55] nlme_3.1-168         promises_1.3.3       grid_4.5.1           ##  [58] Rtsne_0.17           cluster_2.1.8.1      reshape2_1.4.4       ##  [61] generics_0.1.4       recipes_1.3.1        gtable_0.3.6         ##  [64] class_7.3-23         tidyr_1.3.1          data.table_1.15.4    ##  [67] BiocGenerics_0.54.0  pillar_1.11.0        ggExtra_0.11.0       ##  [70] later_1.4.2          splines_4.5.1        flowCore_2.20.0      ##  [73] dplyr_1.1.4          survival_3.8-3       RProtoBufLib_2.20.0  ##  [76] CytoML_2.20.0        tidyselect_1.2.1     RBGL_1.84.0          ##  [79] ggcyto_1.36.0        miniUI_0.1.2         randomcoloR_1.1.0.1  ##  [82] knitr_1.50           gridExtra_2.3        V8_6.0.4             ##  [85] flowWorkspace_4.20.0 stats4_4.5.1         xfun_0.52            ##  [88] Biobase_2.68.0       hardhat_1.4.2        timeDate_4041.110    ##  [91] matrixStats_1.5.0    visNetwork_2.1.4     stringi_1.8.3        ##  [94] ncdfFlow_2.54.0      lazyeval_0.2.2       yaml_2.3.10          ##  [97] evaluate_1.0.4       codetools_0.2-20     data.tree_1.2.0      ## [100] tibble_3.2.1         Rgraphviz_2.52.0     graph_1.86.0         ## [103] cli_3.6.5            rpart_4.1.24         xtable_1.8-4         ## [106] geometry_0.5.2       systemfonts_1.2.3    jquerylib_0.1.4      ## [109] Rcpp_1.0.12          globals_0.18.0       XML_3.99-0.16.1      ## [112] pkgdown_2.1.3        gower_1.0.2          listenv_0.10.0       ## [115] viridisLite_0.4.2    ipred_0.9-15         scales_1.4.0         ## [118] prodlim_2025.04.28   e1071_1.7-16         purrr_1.0.2          ## [121] rlang_1.1.6"},{"path":"https://davidrach.github.io/flowMagic/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Sebastiano Montante. Author, maintainer.","code":""},{"path":"https://davidrach.github.io/flowMagic/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Montante S (2025). flowMagic: Automated gating flow cytometry data. R package version 0.99.1, https://davidrach.github.io/flowMagic/.","code":"@Manual{,   title = {flowMagic: Automated gating of flow cytometry data},   author = {Sebastiano Montante},   year = {2025},   note = {R package version 0.99.1},   url = {https://davidrach.github.io/flowMagic/}, }"},{"path":"https://davidrach.github.io/flowMagic/index.html","id":"flowmagic","dir":"","previous_headings":"","what":"Automated gating of flow cytometry data","title":"Automated gating of flow cytometry data","text":"Welcome flowMagic github repository! flowMagic automated gating tool designed automate gating bivariate flow cytometry (FCM) data. flowMagic algorithm first algorithm trained large dataset gated bivariate FCM data generated players EVE Online, online role-playing game developed CCP Games company.","code":""},{"path":"https://davidrach.github.io/flowMagic/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"Automated gating of flow cytometry data","text":"Flow cytometry (FCM) technology widely used immunology cell biology enable precise identification quantification heterogeneous cell populations across diverse applications. prevailing analysis approach, termed gating, relies expert manual analysis hierarchical bivariate plots. subjective time-consuming approach generate inconsistent results. order generate large high quality training dataset relatively short amount time, recruited players EVE Online gate milions bivariate FCM plots within mini-game Project Discovery. flowMagic algorithm, trained large diverse dataset, represents significant advancement ML-based analysis FCM data, combining citizen science machine learning develop robust, generalizable automated FCM analysis tools.","code":""},{"path":"https://davidrach.github.io/flowMagic/index.html","id":"documentation","dir":"","previous_headings":"","what":"Documentation","title":"Automated gating of flow cytometry data","text":"full technical documentation flowMagic R package can found inside pk_manual directory . Click red pdf badge download visualize flowMagic introduction (vignette). flowMagic framework can also integrated popular flowCore flowWorkspace R packages.","code":""},{"path":"https://davidrach.github.io/flowMagic/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Automated gating of flow cytometry data","text":"flowMagic package can installed within R using devtools library: Alternatively, user can download flowMagic package install local directory:","code":"library(devtools) install_github(\"semontante/flowMagic\") install.packages(\"path/to/flowMagic.tar.gz\",repos=NULL,type=\"source\")"},{"path":"https://davidrach.github.io/flowMagic/index.html","id":"test-script","dir":"","previous_headings":"","what":"Test script","title":"Automated gating of flow cytometry data","text":"script can used test correct installation flowMagic package.","code":"# load libraries library(sp)  library(stringr) library(ggplot2) library(parallel)  library(doParallel) library(randomForest)  library(caret) library(concaveman) library(sm) library(pracma) library(sf) library(stats) library(grDevices) library(flowMagic) #------------ using template model with 1 template # get path to directory with files to analyze path_dir<-system.file(\"extdata\",package = \"flowMagic\") # import data with labels that we use as template data. list_data_ref<-import_reference_csv(path_results = path_dir,n_cores = 1) # import data without labels list_test_data<-import_test_set_csv(path_data = path_dir,n_cores = 1) # Note that it is possible to provide also directly the paths to each file.  # See functions manual for additional details. # data preprocessing to generate the template model using first file as template # we select first element of the imported list of dataframes ref_train<-get_train_data(paths_file = list_data_ref[1],n_cores = 1)  # generate template model using out-of-the-bag validation ref_model_info<-magicTrain(df_train = ref_train,n_cores = 1,train_model = \"rf\") # perform automated gating (gates boundaries prediction step) list_dfs_pred<-magicPred_all(list_test_data = list_test_data,magic_model = NULL,ref_data_train = ref_train, ref_model_info = ref_model_info,n_cores = 8) # Note that providing the training set is optional (ref_data_train = ref_train is optional). # Providing the training set allows the user to calculate the target-template distance for each plot to analyze. # list_dfs_pred contains a list of dataframes for each plot analyzed. In other words, it is a nested list (e.g., # downsampled dataset and original dataset with predicted labels for each plot).  # See the functions manual for the full list of dataframes returned. # visualize gated data df_temp<-list_dfs_pred[[1]] $ df_test_original # dataframe of first gated plot magicPlot(df = df_temp,type = \"ML\",size_points = 1) magicPlot(df = df_temp,type = \"dens\",size_points = 1)"},{"path":"https://davidrach.github.io/flowMagic/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"Automated gating of flow cytometry data","text":"R package licensed Apache License 2.0. See LICENSE NOTICE files information.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/add_labels_column.html","id":null,"dir":"Reference","previous_headings":"","what":"add_labels_column — add_labels_column","title":"add_labels_column — add_labels_column","text":"function add label association column.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/add_labels_column.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"add_labels_column — add_labels_column","text":"","code":"add_labels_column(df, labels_assocation)"},{"path":"https://davidrach.github.io/flowMagic/reference/add_labels_column.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"add_labels_column — add_labels_column","text":"df Dataframe. labels_assocation Vector label association.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/add_labels_column.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"add_labels_column — add_labels_column","text":"Dataframe.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/add_labels_column.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"add_labels_column — add_labels_column","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/assign_events_to_nearest_centroids.html","id":null,"dir":"Reference","previous_headings":"","what":"assign_events_to_nearest_centroids — assign_events_to_nearest_centroids","title":"assign_events_to_nearest_centroids — assign_events_to_nearest_centroids","text":"function assign events class nearest centroid.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/assign_events_to_nearest_centroids.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"assign_events_to_nearest_centroids — assign_events_to_nearest_centroids","text":"","code":"assign_events_to_nearest_centroids(   gated_df,   n_cores = 1,   method_dist = \"euclidean\",   thr_dist = 0.15,   include_zero = FALSE,   remove_centroids = TRUE )"},{"path":"https://davidrach.github.io/flowMagic/reference/assign_events_to_nearest_centroids.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"assign_events_to_nearest_centroids — assign_events_to_nearest_centroids","text":"gated_df dataframe labels (third column). n_cores Number cores. Default 1. method_dist Distance method calculation. Default euclidean. thr_dist Distance threshold centroids calculation. Default 0.15. include_zero Consider centroid label 0. Default False. remove_centroids Remove centroids near based thr_dist value.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/assign_events_to_nearest_centroids.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"assign_events_to_nearest_centroids — assign_events_to_nearest_centroids","text":"Dataframe.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/assign_events_to_nearest_centroids.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"assign_events_to_nearest_centroids — assign_events_to_nearest_centroids","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/check_polygons_intersection.html","id":null,"dir":"Reference","previous_headings":"","what":"extract_polygon_gates — check_polygons_intersection","title":"extract_polygon_gates — check_polygons_intersection","text":"function check polygons intersection.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/check_polygons_intersection.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"extract_polygon_gates — check_polygons_intersection","text":"","code":"check_polygons_intersection(list_df_hull)"},{"path":"https://davidrach.github.io/flowMagic/reference/check_polygons_intersection.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"extract_polygon_gates — check_polygons_intersection","text":"list_df_hull List polygons coordinates","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/check_polygons_intersection.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"extract_polygon_gates — check_polygons_intersection","text":"float","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/check_polygons_intersection.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"extract_polygon_gates — check_polygons_intersection","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/compute_gates.html","id":null,"dir":"Reference","previous_headings":"","what":"compute_gates — compute_gates","title":"compute_gates — compute_gates","text":"function assign events based polygon gates.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/compute_gates.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"compute_gates — compute_gates","text":"","code":"compute_gates(gated_df, list_final_polygons_coords, no_classes = FALSE)"},{"path":"https://davidrach.github.io/flowMagic/reference/compute_gates.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"compute_gates — compute_gates","text":"gated_df dataframe labels (third column). list_final_polygons_coords List dataframes containing polygon coordinates. no_classes Generate third column labels. Default False.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/compute_gates.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"compute_gates — compute_gates","text":"Dataframe.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/compute_gates.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"compute_gates — compute_gates","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/convert_to_integers_chr.html","id":null,"dir":"Reference","previous_headings":"","what":"convert_to_integers_chr — convert_to_integers_chr","title":"convert_to_integers_chr — convert_to_integers_chr","text":"function text classes integers-like classes necessary.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/convert_to_integers_chr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"convert_to_integers_chr — convert_to_integers_chr","text":"","code":"convert_to_integers_chr(df)"},{"path":"https://davidrach.github.io/flowMagic/reference/convert_to_integers_chr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"convert_to_integers_chr — convert_to_integers_chr","text":"df Dataframe classes (third column) check eventually modify","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/convert_to_integers_chr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"convert_to_integers_chr — convert_to_integers_chr","text":"Dataframe","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/convert_to_integers_chr.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"convert_to_integers_chr — convert_to_integers_chr","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/csv_to_dens.html","id":null,"dir":"Reference","previous_headings":"","what":"csv_to_dens — csv_to_dens","title":"csv_to_dens — csv_to_dens","text":"function get density events (classes associated present).","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/csv_to_dens.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"csv_to_dens — csv_to_dens","text":"","code":"csv_to_dens(df, with_classes = TRUE, n_coord = \"df\", normalize_data = TRUE)"},{"path":"https://davidrach.github.io/flowMagic/reference/csv_to_dens.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"csv_to_dens — csv_to_dens","text":"df Dataframe marker expression values. with_classes Consider classes. Default True. n_coord Grid size. Default df. normalize_data True, data normalized 0-1 range. Default True.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/csv_to_dens.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"csv_to_dens — csv_to_dens","text":"Dataframe.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/csv_to_dens.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"csv_to_dens — csv_to_dens","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/exports_plots.html","id":null,"dir":"Reference","previous_headings":"","what":"exports_plots — exports_plots","title":"exports_plots — exports_plots","text":"function generate plots (hierarchy) list labelled dataframes.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/exports_plots.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"exports_plots — exports_plots","text":"","code":"exports_plots(   list_gated_data,   path_output,   n_cores = 1,   type_plot = \"dens\",   show_legend = TRUE,   x_lab = \"x\",   y_lab = \"y\",   size_title_x = 23,   size_title_y = 23,   aspect_ratio = NULL,   w_val = 16,   h_val = 10,   size_axis_text = 25,   export_csv = FALSE,   side_by_side = FALSE,   ... )"},{"path":"https://davidrach.github.io/flowMagic/reference/exports_plots.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"exports_plots — exports_plots","text":"list_gated_data list dataframes. dataframe 3 columns: marker 1 values, marker 2 values label column. path_output Path directory export plots. n_cores Number cores use. Default 1. type_plot user can choose density (=\"dens) label assignment visualization (=\"ML\") show_legend True shows legend label assignment visualization. Default True. x_lab x-axis label. y_lab y-axis label. size_title_x Size x axis label. size_title_y Size y axis label. aspect_ratio Set aspect ratio. Default NULL> = 1, y x axis ticks distance. w_val width value. Default 16. h_val height value. Default 10. size_axis_text Size ticks labels. export_csv Export plot data csv files. Default False. side_by_side Arrange dens plot ML plot side--side. Default False. ... Additional arguments passed function","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/exports_plots.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"exports_plots — exports_plots","text":"TODOLIST","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/exports_plots.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"exports_plots — exports_plots","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/export_raw_gs_plots.html","id":null,"dir":"Reference","previous_headings":"","what":"export_raw_gs_plots — export_raw_gs_plots","title":"export_raw_gs_plots — export_raw_gs_plots","text":"function generate ungated plots selected gs node","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/export_raw_gs_plots.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"export_raw_gs_plots — export_raw_gs_plots","text":"","code":"export_raw_gs_plots(   gs,   node_name,   channel_x,   channel_y,   path_output,   n_cores = 1,   x_lab = \"x\",   y_lab = \"y\",   w_val = 7,   h_val = 7,   size_points = 1,   return_data = FALSE,   ... )"},{"path":"https://davidrach.github.io/flowMagic/reference/export_raw_gs_plots.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"export_raw_gs_plots — export_raw_gs_plots","text":"gs GatingSet node_name TODOLIST channel_x TODOLIST channel_y TODOLIST path_output Path directory export plots. n_cores Number cores use. Default 1. x_lab x-axis label. y_lab y-axis label. w_val width value. Default 7 inches. h_val height value. Default 7 inches. size_points Size points scatter plot. return_data TRUE, return list dataframes used generate plots. Default FALSE. ... Additional arguments passed function","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/export_raw_gs_plots.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"export_raw_gs_plots — export_raw_gs_plots","text":"TODOLIST","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/export_raw_gs_plots.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"export_raw_gs_plots — export_raw_gs_plots","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/extract_polygon_gates.html","id":null,"dir":"Reference","previous_headings":"","what":"extract_polygon_gates — extract_polygon_gates","title":"extract_polygon_gates — extract_polygon_gates","text":"function extract polygon gates objects based convex hull classes.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/extract_polygon_gates.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"extract_polygon_gates — extract_polygon_gates","text":"","code":"extract_polygon_gates(gated_df, concavity_val = 1, ...)"},{"path":"https://davidrach.github.io/flowMagic/reference/extract_polygon_gates.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"extract_polygon_gates — extract_polygon_gates","text":"gated_df dataframe labels (third column). concavity_val Concavity polygons. Default 1. ... Additional arguments passed function","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/extract_polygon_gates.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"extract_polygon_gates — extract_polygon_gates","text":"List dataframes.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/extract_polygon_gates.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"extract_polygon_gates — extract_polygon_gates","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/flowMagic-package.html","id":null,"dir":"Reference","previous_headings":"","what":"flowMagic: Automated gating of flow cytometry data — flowMagic-package","title":"flowMagic: Automated gating of flow cytometry data — flowMagic-package","text":"learn using flowMagic package, please start browsing vignettes:","code":""},{"path":[]},{"path":"https://davidrach.github.io/flowMagic/reference/flowMagic-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"flowMagic: Automated gating of flow cytometry data — flowMagic-package","text":"Maintainer: Sebastiano Montante semont93@gmail.com (ORCID)","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/flowmagic_pred_to_gs.html","id":null,"dir":"Reference","previous_headings":"","what":"flowmagic_pred_to_gs — flowmagic_pred_to_gs","title":"flowmagic_pred_to_gs — flowmagic_pred_to_gs","text":"function label points dataframe based polygon coordinates","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/flowmagic_pred_to_gs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"flowmagic_pred_to_gs — flowmagic_pred_to_gs","text":"","code":"flowmagic_pred_to_gs(list_poly_gates, gs, parent_node)"},{"path":"https://davidrach.github.io/flowMagic/reference/flowmagic_pred_to_gs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"flowmagic_pred_to_gs — flowmagic_pred_to_gs","text":"list_poly_gates List polygonGate objects generated using flowmagic_pred_to_poly_gates gs GatingSet update flowMagic polygons. parent_node Parent population name new gate.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/flowmagic_pred_to_gs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"flowmagic_pred_to_gs — flowmagic_pred_to_gs","text":"GatingSet","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/flowmagic_pred_to_gs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"flowmagic_pred_to_gs — flowmagic_pred_to_gs","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/flowmagic_pred_to_poly_gates.html","id":null,"dir":"Reference","previous_headings":"","what":"flowmagic_pred_to_poly_gates — flowmagic_pred_to_poly_gates","title":"flowmagic_pred_to_poly_gates — flowmagic_pred_to_poly_gates","text":"function label points dataframe based polygon coordinates","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/flowmagic_pred_to_poly_gates.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"flowmagic_pred_to_poly_gates — flowmagic_pred_to_poly_gates","text":"","code":"flowmagic_pred_to_poly_gates(   list_df,   pred_label,   gate_label,   n_cores = 1,   concavity_val = 10 )"},{"path":"https://davidrach.github.io/flowMagic/reference/flowmagic_pred_to_poly_gates.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"flowmagic_pred_to_poly_gates — flowmagic_pred_to_poly_gates","text":"list_df List dataframes three columns: marker 1, marker 2, class. Can get input generated magicPred function. pred_label Select prediction label extract polygon. gate_label Label selected polygon within GatingSet framework. n_cores Number cores use. Default 1. concavity_val Concavity value drawing polygon. Default 10.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/flowmagic_pred_to_poly_gates.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"flowmagic_pred_to_poly_gates — flowmagic_pred_to_poly_gates","text":"list","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/flowmagic_pred_to_poly_gates.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"flowmagic_pred_to_poly_gates — flowmagic_pred_to_poly_gates","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/get_centroids.html","id":null,"dir":"Reference","previous_headings":"","what":"get_centroids — get_centroids","title":"get_centroids — get_centroids","text":"function get centroids label","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_centroids.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"get_centroids — get_centroids","text":"","code":"get_centroids(   df,   low_thr = 0.1,   up_thr = 0.9,   thr_dist = 0.15,   include_zero = FALSE,   remove_centroids = TRUE )"},{"path":"https://davidrach.github.io/flowMagic/reference/get_centroids.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"get_centroids — get_centroids","text":"df dataframe labels (third column). low_thr Lower threshold quantile calculation. up_thr Upper threshold quantile calculation. thr_dist Distance threshold centroids calculation. Default 0.15. include_zero Consider centroid label 0. Default False. remove_centroids Remove centroids near based thr_dist value.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_centroids.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"get_centroids — get_centroids","text":"Dataframe.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_centroids.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"get_centroids — get_centroids","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/get_classes_expr_df.html","id":null,"dir":"Reference","previous_headings":"","what":"get_classes_expr_df — get_classes_expr_df","title":"get_classes_expr_df — get_classes_expr_df","text":"function get classes original expression df based density df predictions.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_classes_expr_df.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"get_classes_expr_df — get_classes_expr_df","text":"","code":"get_classes_expr_df(dens_df, original_df)"},{"path":"https://davidrach.github.io/flowMagic/reference/get_classes_expr_df.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"get_classes_expr_df — get_classes_expr_df","text":"dens_df Dataframe density values. original_df Original dataframe.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_classes_expr_df.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"get_classes_expr_df — get_classes_expr_df","text":"Dataframe.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_classes_expr_df.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"get_classes_expr_df — get_classes_expr_df","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/get_density_features.html","id":null,"dir":"Reference","previous_headings":"","what":"get_density_features — get_density_features","title":"get_density_features — get_density_features","text":"function get density features given bivarite density csv.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_density_features.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"get_density_features — get_density_features","text":"","code":"get_density_features(df_dens, min_height = 0.06)"},{"path":"https://davidrach.github.io/flowMagic/reference/get_density_features.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"get_density_features — get_density_features","text":"df_dens Dataframe density estimates markers. min_height Minimum height peaks consider.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_density_features.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"get_density_features — get_density_features","text":"Vector numbers.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_density_features.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"get_density_features — get_density_features","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/get_density_scores.html","id":null,"dir":"Reference","previous_headings":"","what":"get_density_scores — get_density_scores","title":"get_density_scores — get_density_scores","text":"function get scores distance template calculation.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_density_scores.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"get_density_scores — get_density_scores","text":"","code":"get_density_scores(df_template, df_test, select_density_features = NULL)"},{"path":"https://davidrach.github.io/flowMagic/reference/get_density_scores.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"get_density_scores — get_density_scores","text":"df_template Dataframe template markers expression values. df_test Dataframe test markers expression values. select_density_features Select features use. Default NULL.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_density_scores.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"get_density_scores — get_density_scores","text":"Matrix numbers.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_density_scores.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"get_density_scores — get_density_scores","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/get_distance_loc_vs_test.html","id":null,"dir":"Reference","previous_headings":"","what":"get_distance_loc_vs_test — get_distance_loc_vs_test","title":"get_distance_loc_vs_test — get_distance_loc_vs_test","text":"function compare similiraty current test data local training set.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_distance_loc_vs_test.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"get_distance_loc_vs_test — get_distance_loc_vs_test","text":"","code":"get_distance_loc_vs_test(   test_df,   loc_df,   show_plot = \"none\",   nboot = 50,   seed_n = 123 )"},{"path":"https://davidrach.github.io/flowMagic/reference/get_distance_loc_vs_test.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"get_distance_loc_vs_test — get_distance_loc_vs_test","text":"test_df Dataframe bivariate marker expression. loc_df Dataframe bivariate marker expression. show_plot show density comparison. Default none. nboot Number permutations. Default 50. seed_n Set seed. Default 123.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_distance_loc_vs_test.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"get_distance_loc_vs_test — get_distance_loc_vs_test","text":"List p-values.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_distance_loc_vs_test.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"get_distance_loc_vs_test — get_distance_loc_vs_test","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/get_dist_template.html","id":null,"dir":"Reference","previous_headings":"","what":"get_dist_template — get_dist_template","title":"get_dist_template — get_dist_template","text":"function get distance template test data.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_dist_template.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"get_dist_template — get_dist_template","text":"","code":"get_dist_template(matrix_scores, dist_method = \"euclidean\")"},{"path":"https://davidrach.github.io/flowMagic/reference/get_dist_template.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"get_dist_template — get_dist_template","text":"matrix_scores Matrix density features generated get_density_scores function. dist_method Type distance method calculation.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_dist_template.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"get_dist_template — get_dist_template","text":"Number.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_dist_template.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"get_dist_template — get_dist_template","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/get_flowframe_from_gs.html","id":null,"dir":"Reference","previous_headings":"","what":"get_flowframe_from_gs — get_flowframe_from_gs","title":"get_flowframe_from_gs — get_flowframe_from_gs","text":"function get flowframe gs (converting cytoframe flowframe)","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_flowframe_from_gs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"get_flowframe_from_gs — get_flowframe_from_gs","text":"","code":"get_flowframe_from_gs(gs, node_name, sample_id)"},{"path":"https://davidrach.github.io/flowMagic/reference/get_flowframe_from_gs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"get_flowframe_from_gs — get_flowframe_from_gs","text":"gs GatingSet node_name Name Gating tree node whose gating data needs extracted. sample_id Name index sample extract.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_flowframe_from_gs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"get_flowframe_from_gs — get_flowframe_from_gs","text":"List.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_flowframe_from_gs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"get_flowframe_from_gs — get_flowframe_from_gs","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/get_hierarchy_all_pops.html","id":null,"dir":"Reference","previous_headings":"","what":"get_hierarchy_all_pops — get_hierarchy_all_pops","title":"get_hierarchy_all_pops — get_hierarchy_all_pops","text":"function get hierarchy pops sample manually gated (input gating hierarchy). Based output function magicTrain perform training step using sample manually gated (local training set) project discovery data (global training set).","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_hierarchy_all_pops.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"get_hierarchy_all_pops — get_hierarchy_all_pops","text":"","code":"get_hierarchy_all_pops(   gh,   export_visnet = FALSE,   path.output = \"None\",   seed_n = 123 )"},{"path":"https://davidrach.github.io/flowMagic/reference/get_hierarchy_all_pops.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"get_hierarchy_all_pops — get_hierarchy_all_pops","text":"gh GatingHierarchy. export_visnet true, export visnetwork object. path.output Path save visnetwork object. Default None. seed_n Numeric set.seed, default 123","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_hierarchy_all_pops.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"get_hierarchy_all_pops — get_hierarchy_all_pops","text":"List Dataframes.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_hierarchy_all_pops.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"get_hierarchy_all_pops — get_hierarchy_all_pops","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/get_hull_all_gates.html","id":null,"dir":"Reference","previous_headings":"","what":"get_hull_all_gates — get_hull_all_gates","title":"get_hull_all_gates — get_hull_all_gates","text":"function get convex hull gates.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_hull_all_gates.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"get_hull_all_gates — get_hull_all_gates","text":"","code":"get_hull_all_gates(   gated_df,   concavity_val = 1,   spar_val = 0.7,   smoothing = FALSE )"},{"path":"https://davidrach.github.io/flowMagic/reference/get_hull_all_gates.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"get_hull_all_gates — get_hull_all_gates","text":"gated_df dataframe labels (third column). concavity_val Values concavity. Default 1. spar_val Value spar. Default 0.7. smoothing Apply smoothing lines? Default F.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_hull_all_gates.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"get_hull_all_gates — get_hull_all_gates","text":"List dataframes.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_hull_all_gates.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"get_hull_all_gates — get_hull_all_gates","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/get_indices_cross_val.html","id":null,"dir":"Reference","previous_headings":"","what":"get_indices_cross_val — get_indices_cross_val","title":"get_indices_cross_val — get_indices_cross_val","text":"function get indices cross val.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_indices_cross_val.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"get_indices_cross_val — get_indices_cross_val","text":"","code":"get_indices_cross_val(   df_train,   n_cores = 1,   train_inds = \"plot_num\",   val_inds = \"none\",   n_train_plots = 5,   n_folds = 5,   seed = 40,   n_val_plots = 5 )"},{"path":"https://davidrach.github.io/flowMagic/reference/get_indices_cross_val.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"get_indices_cross_val — get_indices_cross_val","text":"df_train Dataframe training features generated get_train_data function. n_cores Number cores use. Default 1. train_inds Type method extract training indices:  plot_num,rand_set_num,rand_set_n_gates_info. val_inds Type method extract validation indices:  plot_num,rand_set_num,rand_set_n_gates_info. n_train_plots Number training plots include training data iteration. n_folds Number training iterations. seed Seed randomly extract data. n_val_plots Number training plots include validation data iteration.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_indices_cross_val.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"get_indices_cross_val — get_indices_cross_val","text":"List integers.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_indices_cross_val.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"get_indices_cross_val — get_indices_cross_val","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/get_list_df_gated_plots.html","id":null,"dir":"Reference","previous_headings":"","what":"get_list_df_gated_plots — get_list_df_gated_plots","title":"get_list_df_gated_plots — get_list_df_gated_plots","text":"function get labelled dataframe based selected node sample gs.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_list_df_gated_plots.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"get_list_df_gated_plots — get_list_df_gated_plots","text":"","code":"get_list_df_gated_plots(gs, gate_name)"},{"path":"https://davidrach.github.io/flowMagic/reference/get_list_df_gated_plots.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"get_list_df_gated_plots — get_list_df_gated_plots","text":"gs GatingSet gate_name Name Gating tree node whose gating data needs extracted.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_list_df_gated_plots.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"get_list_df_gated_plots — get_list_df_gated_plots","text":"List.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_list_df_gated_plots.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"get_list_df_gated_plots — get_list_df_gated_plots","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/get_local_train_sets.html","id":null,"dir":"Reference","previous_headings":"","what":"get_local_train_sets — get_local_train_sets","title":"get_local_train_sets — get_local_train_sets","text":"Based hierarchy calculated using get_hierarchy function, generate local training sets gated biologists.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_local_train_sets.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"get_local_train_sets — get_local_train_sets","text":"","code":"get_local_train_sets(gh, hierarchical_tree, info_hierarchy)"},{"path":"https://davidrach.github.io/flowMagic/reference/get_local_train_sets.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"get_local_train_sets — get_local_train_sets","text":"gh GatingHierarchy. hierarchical_tree Dataframe hierarchy information generated get_hierarchy function. info_hierarchy List hierarchy information generated get_hierarchy function.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_local_train_sets.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"get_local_train_sets — get_local_train_sets","text":"List Dataframes.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_local_train_sets.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"get_local_train_sets — get_local_train_sets","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/get_pops_hierarchy_list.html","id":null,"dir":"Reference","previous_headings":"","what":"get_pops_hierarchy_list — get_pops_hierarchy_list","title":"get_pops_hierarchy_list — get_pops_hierarchy_list","text":"function get info list hierarchical dataset (reports pops level vector).","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_pops_hierarchy_list.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"get_pops_hierarchy_list — get_pops_hierarchy_list","text":"","code":"get_pops_hierarchy_list(hierarchical_list)"},{"path":"https://davidrach.github.io/flowMagic/reference/get_pops_hierarchy_list.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"get_pops_hierarchy_list — get_pops_hierarchy_list","text":"hierarchical_list list populations names level.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_pops_hierarchy_list.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"get_pops_hierarchy_list — get_pops_hierarchy_list","text":"Vector characters.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_pops_hierarchy_list.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"get_pops_hierarchy_list — get_pops_hierarchy_list","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/get_pop_multiclass.html","id":null,"dir":"Reference","previous_headings":"","what":"get_pop_multiclass — get_pop_multiclass","title":"get_pop_multiclass — get_pop_multiclass","text":"function get children selected population, useful multiclass classification. output pops dimensions","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_pop_multiclass.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"get_pop_multiclass — get_pop_multiclass","text":"","code":"get_pop_multiclass(gh, pop)"},{"path":"https://davidrach.github.io/flowMagic/reference/get_pop_multiclass.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"get_pop_multiclass — get_pop_multiclass","text":"gh GatingHierarchy. pop Name population get events assignments.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_pop_multiclass.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"get_pop_multiclass — get_pop_multiclass","text":"Vector characters.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_pop_multiclass.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"get_pop_multiclass — get_pop_multiclass","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/get_slot_hierarchy_list.html","id":null,"dir":"Reference","previous_headings":"","what":"get_slot_hierarchy_list — get_slot_hierarchy_list","title":"get_slot_hierarchy_list — get_slot_hierarchy_list","text":"function access slot results hierarchy list based pop selected.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_slot_hierarchy_list.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"get_slot_hierarchy_list — get_slot_hierarchy_list","text":"","code":"get_slot_hierarchy_list(hierarchical_list, pop_selected)"},{"path":"https://davidrach.github.io/flowMagic/reference/get_slot_hierarchy_list.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"get_slot_hierarchy_list — get_slot_hierarchy_list","text":"hierarchical_list list populations names level. pop_selected Population name.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_slot_hierarchy_list.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"get_slot_hierarchy_list — get_slot_hierarchy_list","text":"Element list.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_slot_hierarchy_list.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"get_slot_hierarchy_list — get_slot_hierarchy_list","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/get_test_sets.html","id":null,"dir":"Reference","previous_headings":"","what":"get_test_sets — get_test_sets","title":"get_test_sets — get_test_sets","text":"Function obtain data ready gated (validation set test set). takes input flowSet generates list dataframes ML structure ungated fcs file. dataframe expression matrix root.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_test_sets.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"get_test_sets — get_test_sets","text":"","code":"get_test_sets(fs, gh)"},{"path":"https://davidrach.github.io/flowMagic/reference/get_test_sets.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"get_test_sets — get_test_sets","text":"fs flowSet gate. gh Gating hierarchy.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_test_sets.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"get_test_sets — get_test_sets","text":"List dataframes.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_test_sets.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"get_test_sets — get_test_sets","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/get_train_data.html","id":null,"dir":"Reference","previous_headings":"","what":"get_train_data — get_train_data","title":"get_train_data — get_train_data","text":"function import training data based paths files.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_train_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"get_train_data — get_train_data","text":"","code":"get_train_data(   paths_file = NULL,   df_paths = NULL,   n_cores = 1,   prop_down = NULL,   remove_class = NULL,   n_points_per_plot = NULL,   normalize_data = TRUE,   vec_col = NULL )"},{"path":"https://davidrach.github.io/flowMagic/reference/get_train_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"get_train_data — get_train_data","text":"paths_file Vector paths. path points toward single csv file containin training info (labels bivariate expression). paths_file can also directly list dataframes containing labels bivariate expression. df_paths Dataframe containing paths file read. paths data must first column. associated paths classes second column. n_cores Number cores. Default 1. prop_down Proportion events (downsampling). Default NULL (downsampling using number points). remove_class Vector classes ignore. Default NULL. n_points_per_plot Number points downsampling. normalize_data True, data normalized 0-1 range. Default True. vec_col vector columns names input dataframes 3 columns. third column name must always refer column gate label event. Default NULL.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_train_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"get_train_data — get_train_data","text":"Dataframe.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_train_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"get_train_data — get_train_data","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/get_weights_density_features.html","id":null,"dir":"Reference","previous_headings":"","what":"get_weights_density_features — get_weights_density_features","title":"get_weights_density_features — get_weights_density_features","text":"function calculate final score based density features.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_weights_density_features.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"get_weights_density_features — get_weights_density_features","text":"","code":"get_weights_density_features(df_scores)"},{"path":"https://davidrach.github.io/flowMagic/reference/get_weights_density_features.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"get_weights_density_features — get_weights_density_features","text":"df_scores Dataframe distance scores.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_weights_density_features.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"get_weights_density_features — get_weights_density_features","text":"Vector numbers.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/get_weights_density_features.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"get_weights_density_features — get_weights_density_features","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/import_gating_info.html","id":null,"dir":"Reference","previous_headings":"","what":"import_sample_gated — import_gating_info","title":"import_sample_gated — import_gating_info","text":"convert flowWorkspace GatingMl file train data folder gated gh (gh_train)","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/import_gating_info.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"import_sample_gated — import_gating_info","text":"","code":"import_gating_info(path, type = \"gs\", group_wsp = NULL)"},{"path":"https://davidrach.github.io/flowMagic/reference/import_gating_info.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"import_sample_gated — import_gating_info","text":"path path gs GatingML object. type type object. group_wsp Group wsp import.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/import_gating_info.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"import_sample_gated — import_gating_info","text":"GatingSet object","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/import_gating_info.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"import_sample_gated — import_gating_info","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/import_reference_csv.html","id":null,"dir":"Reference","previous_headings":"","what":"import_reference_csv — import_reference_csv","title":"import_reference_csv — import_reference_csv","text":"function import plain gold standards data (hierarchy)","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/import_reference_csv.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"import_reference_csv — import_reference_csv","text":"","code":"import_reference_csv(path_results, n_cores = 1)"},{"path":"https://davidrach.github.io/flowMagic/reference/import_reference_csv.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"import_reference_csv — import_reference_csv","text":"path_results path directory containing csv files  read (third column labels). n_cores Number cores use. Default 1.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/import_reference_csv.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"import_reference_csv — import_reference_csv","text":"list dataframes","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/import_reference_csv.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"import_reference_csv — import_reference_csv","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/import_test_set_csv.html","id":null,"dir":"Reference","previous_headings":"","what":"import_test_set_csv — import_test_set_csv","title":"import_test_set_csv — import_test_set_csv","text":"function import test set csv format.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/import_test_set_csv.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"import_test_set_csv — import_test_set_csv","text":"","code":"import_test_set_csv(path_data, n_cores = 1, xy_col = TRUE)"},{"path":"https://davidrach.github.io/flowMagic/reference/import_test_set_csv.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"import_test_set_csv — import_test_set_csv","text":"path_data path directory containing csv files read (third column ignored). n_cores Number cores. Default 1. xy_col Colnames equal x y. Default True.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/import_test_set_csv.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"import_test_set_csv — import_test_set_csv","text":"List dataframes.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/import_test_set_csv.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"import_test_set_csv — import_test_set_csv","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/import_test_set_fcs.html","id":null,"dir":"Reference","previous_headings":"","what":"import_test_set — import_test_set_fcs","title":"import_test_set — import_test_set_fcs","text":"read ungated fcs files flowSet. ungated fcs assumed already cleaned,compensated,transformed.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/import_test_set_fcs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"import_test_set — import_test_set_fcs","text":"","code":"import_test_set_fcs(path, n_samples = \"All\", ref_f_n = 1)"},{"path":"https://davidrach.github.io/flowMagic/reference/import_test_set_fcs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"import_test_set — import_test_set_fcs","text":"path path directory containig fcs files. n_samples Number samples. Default . ref_f_n Set reference flowFrame match channel names. Default 1(first flowFrame).","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/import_test_set_fcs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"import_test_set — import_test_set_fcs","text":"flowSet.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/import_test_set_fcs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"import_test_set — import_test_set_fcs","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/magicPlot.html","id":null,"dir":"Reference","previous_headings":"","what":"magicPlot — magicPlot","title":"magicPlot — magicPlot","text":"function generate scatter plot colored density events.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magicPlot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"magicPlot — magicPlot","text":"","code":"magicPlot(   df,   type = \"dens\",   polygons_coords_list = NULL,   show_legend = TRUE,   size_axis_text = 18,   size_title_x = 20,   size_title_y = 20,   treat_0_as_gate = FALSE,   x_lab = \"x\",   y_lab = \"y\",   gates_to_plot = NULL,   apply_manual_scale = FALSE,   hull_only = FALSE,   size_points = 1,   concavity_val = 20,   aspect_ratio = NULL,   x_lim1 = NULL,   x_lim2 = NULL,   y_lim1 = NULL,   y_lim2 = NULL,   add_labels = FALSE,   map_label_polygon = NULL,   size_pol_name = 6,   show_marginals = FALSE,   ... )"},{"path":"https://davidrach.github.io/flowMagic/reference/magicPlot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"magicPlot — magicPlot","text":"df Dataframe bivariate markers expression (labels gates plot). type Type plot generated. \"dens\"=bivariate density plot. \"ML\"=events assignments plot polygons_coords_list list gates coordinates. Needed labels included df. Default NULL. show_legend Show legend type=\"ML\". Default True. size_axis_text Size axis ticks labels. Default 18. size_title_x Size x axis label title. size_title_y Size y axis label title. treat_0_as_gate Treat 0 label gate. Defaul False (0 label background) x_lab Label x axis. y_lab Label y axis. gates_to_plot Select labels plot. apply_manual_scale Apply predifined scale colors. Default True. hull_only TODOLIST size_points Size points scatter plot. concavity_val Concavity value. Default 5. Higher value, less jagged boundaries aspect_ratio Aspect ratio value. = 1, y x axis equal distance ticks labels. Default NULL. x_lim1 Minimum limit x axis. Default NULL. x_lim2 Max limit x axis. Default NULL. y_lim1 Minimum limit y axis. Default NULL. y_lim2 Max limit y axis. Default NULL. add_labels add polygon labels. Default FALSE. map_label_polygon map polygon labels (assign custom labels). Default NULL. size_pol_name size polygon labels. Default 6. show_marginals show 1D density next axis. Default False. ... Additional arguments passed function","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magicPlot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"magicPlot — magicPlot","text":"ggplot.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magicPlot.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"magicPlot — magicPlot","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/magicplot_3D.html","id":null,"dir":"Reference","previous_headings":"","what":"magicplot_3D — magicplot_3D","title":"magicplot_3D — magicplot_3D","text":"function make 3D plot data.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magicplot_3D.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"magicplot_3D — magicplot_3D","text":"","code":"magicplot_3D(   df,   class_col = FALSE,   x_lab = \"x\",   y_lab = \"y\",   z_lab = \"z\",   type = \"ML\",   size_p = 1 )"},{"path":"https://davidrach.github.io/flowMagic/reference/magicplot_3D.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"magicplot_3D — magicplot_3D","text":"df input dataframe composed least three columns. Four columns gate needs plot. class_col Gate plot? Default False. x_lab label x axis y_lab Label y axis z_lab Label z axis type Assuming class_col==TRUE, type==ML, Generate plot colored based gate assignment. type==\"mesh\", generate 3d polygon gate. size_p size scatter plot points. Default 1.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magicplot_3D.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"magicplot_3D — magicplot_3D","text":"plotly plot","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magicplot_3D.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"magicplot_3D — magicplot_3D","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/magicPlot_template.html","id":null,"dir":"Reference","previous_headings":"","what":"magicPlot_template — magicPlot_template","title":"magicPlot_template — magicPlot_template","text":"function interactively generate template based bivariate ungated data.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magicPlot_template.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"magicPlot_template — magicPlot_template","text":"","code":"magicPlot_template(df, size_points = 1)"},{"path":"https://davidrach.github.io/flowMagic/reference/magicPlot_template.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"magicPlot_template — magicPlot_template","text":"df input dataframe composed two columns reporting markers expression (first column = marker 1, second column = marker 2). size_points Size points scatter plot. Default 1.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magicPlot_template.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"magicPlot_template — magicPlot_template","text":"Dataframe","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magicPlot_template.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"magicPlot_template — magicPlot_template","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/magicPred.html","id":null,"dir":"Reference","previous_headings":"","what":"magicPred — magicPred","title":"magicPred — magicPred","text":"function predict plain test data (hierarchy)","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magicPred.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"magicPred — magicPred","text":"","code":"magicPred(   test_data,   magic_model = NULL,   magic_model_n_gates = NULL,   ref_model_info = NULL,   n_cores = 1,   ref_data_train = NULL,   prop_down = NULL,   thr_dist = 0.05,   n_points_per_plot = NULL,   normalize_data = TRUE,   include_zero_val = TRUE,   seed_n = 40,   ... )"},{"path":"https://davidrach.github.io/flowMagic/reference/magicPred.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"magicPred — magicPred","text":"test_data Dataframe test data gate. two columns marker expression. magic_model Global trained model predict gates. can single model list named models (model trained selected number gates). magic_model_n_gates Global trained model predict number gates. different NULL, magic_model expected list models predict certain gates (e.g., 5 models 2,3,4,5 6 gates). ref_model_info Template model predic gates. n_cores Number cores use. Default 1. ref_data_train Template data used generate ref_model_info. Needed calculate target-template distance. prop_down Proportion downsampling. Default NULL (automatic downsampling using n_points_per_plot). thr_dist TODOLIST n_points_per_plot Number points consider downsampling. Default 500. normalize_data True, data normalized 0-1 range. Default True. include_zero_val considering events labeled 0 additional gate one gate. Default  True. seed_n Numeric set.seed, default 40 ... Additional arguments passed function","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magicPred.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"magicPred — magicPred","text":"List Dataframes.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magicPred.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"magicPred — magicPred","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/magicPred_all.html","id":null,"dir":"Reference","previous_headings":"","what":"magicPred_all — magicPred_all","title":"magicPred_all — magicPred_all","text":"function predict plain test data (hierarchy)","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magicPred_all.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"magicPred_all — magicPred_all","text":"","code":"magicPred_all(   list_test_data,   magic_model = NULL,   ref_model_info = NULL,   magic_model_n_gates = NULL,   ref_data_train = NULL,   prop_down = NULL,   n_points_per_plot = NULL,   thr_dist = 0.05,   n_cores = 1,   normalize_data = TRUE,   include_zero_val = TRUE,   n_cores_all = 1,   verbose = FALSE,   seed_n = 40,   ... )"},{"path":"https://davidrach.github.io/flowMagic/reference/magicPred_all.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"magicPred_all — magicPred_all","text":"list_test_data List unlabeled  dataframes. two columns marker expression. magic_model Global trained model predict gates. can single model list named models (model trained selected number gates). ref_model_info Template model predic gates. magic_model_n_gates Global trained model predict number gates. different NULL, magic_model expected list models predict certain gates (e.g., 5 models 2,3,4,5 6 gates). ref_data_train Template data used generate ref_model_info. Needed calculate target-template distance. prop_down TODOLIST n_points_per_plot Number points consider downsampling. Default 500. thr_dist TODOLIST n_cores Number cores use process one sample. Default 1. normalize_data True, data normalized 0-1 range. Default True. include_zero_val considering events labeled 0 additional gate one gate. Default  True. n_cores_all Number cores use across samples. Default 1. verbose True, print message disable tryCatch (error stop execution). Default False. seed_n Numeric set.seed, default 40 ... Additional arguments passed function","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magicPred_all.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"magicPred_all — magicPred_all","text":"List Dataframes.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magicPred_all.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"magicPred_all — magicPred_all","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/magicPred_hierarchy.html","id":null,"dir":"Reference","previous_headings":"","what":"magicPred_hierarchy — magicPred_hierarchy","title":"magicPred_hierarchy — magicPred_hierarchy","text":"function predict gates ungated .fcs samples.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magicPred_hierarchy.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"magicPred_hierarchy — magicPred_hierarchy","text":"","code":"magicPred_hierarchy(list_test_sets, list_models_local, df_tree, n_cores = 1)"},{"path":"https://davidrach.github.io/flowMagic/reference/magicPred_hierarchy.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"magicPred_hierarchy — magicPred_hierarchy","text":"list_test_sets contains list root dataframe ungated fcs file imported. list_models_local contains optimized local models pre-generated using magicTrain_local function. df_tree contains info related populations hierarchy. n_cores Number cores use. Default 1.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magicPred_hierarchy.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"magicPred_hierarchy — magicPred_hierarchy","text":"List Dataframes.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magicPred_hierarchy.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"magicPred_hierarchy — magicPred_hierarchy","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/magicTrain.html","id":null,"dir":"Reference","previous_headings":"","what":"magicTrain — magicTrain","title":"magicTrain — magicTrain","text":"function generate one training model based list training sets (hierarchy).","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magicTrain.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"magicTrain — magicTrain","text":"","code":"magicTrain(   df_train,   n_cores = 1,   train_model = \"rf\",   k_cv = 10,   list_index_train = NULL,   list_index_val = NULL,   n_tree = 10,   tune_lenght = 3,   size_nnet_units = 100,   decay_nnet = 0.1,   method_control = \"auto\",   type_y = \"classes\",   seed_n = 40 )"},{"path":"https://davidrach.github.io/flowMagic/reference/magicTrain.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"magicTrain — magicTrain","text":"df_train training dataframe generated get_train_data function. n_cores Number cores use. Default 1. train_model Type training model. Default rf. k_cv Number k cross-validation (method control=cv) list_index_train List vector indices use training fold. list_index_val List vector indices use held data fold. n_tree Number trees random forest. tune_lenght Number parameters values trained cross-validation. size_nnet_units Number units hidden layer (train_model=nnet). decay_nnet Decay parameter value nnet model. method_control Type training control: oob cv auto. Default auto. type_y Type response variable: classes (train predict gates boundaries) n_gates_info(train predict number gates). seed_n Set seed. Default 40.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magicTrain.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"magicTrain — magicTrain","text":"model object.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magicTrain.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"magicTrain — magicTrain","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/magicTrain_dt.html","id":null,"dir":"Reference","previous_headings":"","what":"magicTrain_dt — magicTrain_dt","title":"magicTrain_dt — magicTrain_dt","text":"function generate random forest training model.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magicTrain_dt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"magicTrain_dt — magicTrain_dt","text":"","code":"magicTrain_dt(   Xtrain,   Ytrain,   k_cv = 10,   list_index_train = NULL,   list_index_val = NULL,   tune_lenght = 5 )"},{"path":"https://davidrach.github.io/flowMagic/reference/magicTrain_dt.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"magicTrain_dt — magicTrain_dt","text":"Xtrain Dataframe training features. Ytrain Dataframe labels (one column). k_cv Number k cross-validation. list_index_train List vector indices use training fold. list_index_val List vector indices use held data fold. tune_lenght Number hyper parameters test. Default 5.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magicTrain_dt.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"magicTrain_dt — magicTrain_dt","text":"model object.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magicTrain_dt.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"magicTrain_dt — magicTrain_dt","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/magicTrain_hierarchy.html","id":null,"dir":"Reference","previous_headings":"","what":"magicTrain_local — magicTrain_hierarchy","title":"magicTrain_local — magicTrain_hierarchy","text":"function generate local training models using list hierarchical training set.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magicTrain_hierarchy.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"magicTrain_local — magicTrain_hierarchy","text":"","code":"magicTrain_hierarchy(   list_train_sets,   n_tree = 10,   train_model = \"rf\",   method_control = \"oob\",   n_cores = 1,   seed_n = 40 )"},{"path":"https://davidrach.github.io/flowMagic/reference/magicTrain_hierarchy.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"magicTrain_local — magicTrain_hierarchy","text":"list_train_sets List labeled dataframe train generated get_local_train function. n_tree Number tree random forest model. train_model Type training model. Default random forest (\"rf\"). method_control Cross-validation method. Default ---bag method (oob). n_cores Number cores use. Default 1. seed_n Numeric set.seed, default 40","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magicTrain_hierarchy.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"magicTrain_local — magicTrain_hierarchy","text":"List models objects.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magicTrain_hierarchy.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"magicTrain_local — magicTrain_hierarchy","text":"","code":"A <- 2 + 2"},{"path":"https://davidrach.github.io/flowMagic/reference/magicTrain_knn.html","id":null,"dir":"Reference","previous_headings":"","what":"magicTrain_knn — magicTrain_knn","title":"magicTrain_knn — magicTrain_knn","text":"function generate random forest training model.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magicTrain_knn.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"magicTrain_knn — magicTrain_knn","text":"","code":"magicTrain_knn(   Xtrain,   Ytrain,   k_cv = 10,   list_index_train = NULL,   list_index_val = NULL,   tune_lenght = 5 )"},{"path":"https://davidrach.github.io/flowMagic/reference/magicTrain_knn.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"magicTrain_knn — magicTrain_knn","text":"Xtrain Dataframe training features. Ytrain Dataframe labels (one column). k_cv Number k cross-validation. list_index_train List vector indices use training fold. list_index_val List vector indices use held data fold. tune_lenght Number hyper parameters test. Default 5.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magicTrain_knn.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"magicTrain_knn — magicTrain_knn","text":"model object.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magicTrain_knn.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"magicTrain_knn — magicTrain_knn","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/magicTrain_nb.html","id":null,"dir":"Reference","previous_headings":"","what":"magicTrain_nb — magicTrain_nb","title":"magicTrain_nb — magicTrain_nb","text":"function generate random forest training model.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magicTrain_nb.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"magicTrain_nb — magicTrain_nb","text":"","code":"magicTrain_nb(   Xtrain,   Ytrain,   k_cv = 10,   list_index_train = NULL,   list_index_val = NULL,   tune_lenght = 5 )"},{"path":"https://davidrach.github.io/flowMagic/reference/magicTrain_nb.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"magicTrain_nb — magicTrain_nb","text":"Xtrain Dataframe training features. Ytrain Dataframe labels (one column). k_cv Number k cross-validation. list_index_train List vector indices use training fold. list_index_val List vector indices use held data fold. tune_lenght Number hyper parameters test. Default 5.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magicTrain_nb.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"magicTrain_nb — magicTrain_nb","text":"model object.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magicTrain_nb.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"magicTrain_nb — magicTrain_nb","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/magicTrain_nnet.html","id":null,"dir":"Reference","previous_headings":"","what":"magicTrain_nnet — magicTrain_nnet","title":"magicTrain_nnet — magicTrain_nnet","text":"function generate neural net training model.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magicTrain_nnet.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"magicTrain_nnet — magicTrain_nnet","text":"","code":"magicTrain_nnet(   Xtrain,   Ytrain,   k_cv = 10,   list_index_train = NULL,   list_index_val = NULL,   size = 100,   decay = 0.1,   tune_lenght = 5 )"},{"path":"https://davidrach.github.io/flowMagic/reference/magicTrain_nnet.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"magicTrain_nnet — magicTrain_nnet","text":"Xtrain Dataframe training features. Ytrain Dataframe labels (one column). k_cv Number k cross-validation. list_index_train List vector indices use training fold. list_index_val List vector indices use held data fold. size Number units hidden layer (train_model=nnet). decay Decay parameter value nnet model. tune_lenght TODOLIST","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magicTrain_nnet.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"magicTrain_nnet — magicTrain_nnet","text":"model object.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magicTrain_nnet.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"magicTrain_nnet — magicTrain_nnet","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/magicTrain_rf.html","id":null,"dir":"Reference","previous_headings":"","what":"magicTrain_rf — magicTrain_rf","title":"magicTrain_rf — magicTrain_rf","text":"function generate random forest training model.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magicTrain_rf.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"magicTrain_rf — magicTrain_rf","text":"","code":"magicTrain_rf(   Xtrain,   Ytrain,   list_index_train = NULL,   list_index_val = NULL,   n_tree = 10,   method_control = \"oob\",   k_cv = 10 )"},{"path":"https://davidrach.github.io/flowMagic/reference/magicTrain_rf.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"magicTrain_rf — magicTrain_rf","text":"Xtrain Dataframe training features. Ytrain Dataframe labels (one column). list_index_train List vector indices use training fold. list_index_val List vector indices use held data fold. n_tree Number trees random forest. method_control Type training control: oob cv. Default oob. k_cv Number k cross-validation (method control=cv).","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magicTrain_rf.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"magicTrain_rf — magicTrain_rf","text":"model object.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magicTrain_rf.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"magicTrain_rf — magicTrain_rf","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/magic_label_poly.html","id":null,"dir":"Reference","previous_headings":"","what":"magic_label_poly — magic_label_poly","title":"magic_label_poly — magic_label_poly","text":"function label points dataframe based polygon coordinates","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magic_label_poly.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"magic_label_poly — magic_label_poly","text":"","code":"magic_label_poly(df, polygon_df, label_pol = \"1\")"},{"path":"https://davidrach.github.io/flowMagic/reference/magic_label_poly.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"magic_label_poly — magic_label_poly","text":"df Dataframe composed two columns marker expression first (x axis = first column) second marker (y axis = second column) polygon_df Dataframe containing x coordinates (first column) y coordinates (second column) current polygon label. label_pol Label current polygon.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magic_label_poly.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"magic_label_poly — magic_label_poly","text":"Dataframe","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magic_label_poly.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"magic_label_poly — magic_label_poly","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/magic_label_rectangle.html","id":null,"dir":"Reference","previous_headings":"","what":"magic_label_rectangle — magic_label_rectangle","title":"magic_label_rectangle — magic_label_rectangle","text":"function label points dataframe based rectangle coordinates","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magic_label_rectangle.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"magic_label_rectangle — magic_label_rectangle","text":"","code":"magic_label_rectangle(df, x_min, x_max, y_min, y_max, label_pol = \"1\")"},{"path":"https://davidrach.github.io/flowMagic/reference/magic_label_rectangle.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"magic_label_rectangle — magic_label_rectangle","text":"df Dataframe composed two columns marker expression first (x axis = first column) second marker (y axis = second column) x_min x coordinate minimum x_max x coordinate maximum y_min y coordinate minimum y_max y coordinate maximum label_pol Label current polygon.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magic_label_rectangle.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"magic_label_rectangle — magic_label_rectangle","text":"Dataframe","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magic_label_rectangle.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"magic_label_rectangle — magic_label_rectangle","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/magic_plot_wrap.html","id":null,"dir":"Reference","previous_headings":"","what":"magic_plot_wrap — magic_plot_wrap","title":"magic_plot_wrap — magic_plot_wrap","text":"function wrap plots one plot","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magic_plot_wrap.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"magic_plot_wrap — magic_plot_wrap","text":"","code":"magic_plot_wrap(list_gated_data, n_col_wrap = 3, size_title = 10, ...)"},{"path":"https://davidrach.github.io/flowMagic/reference/magic_plot_wrap.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"magic_plot_wrap — magic_plot_wrap","text":"list_gated_data List dataframes composed three columns (generated get_list_df_gated_plots() function) n_col_wrap number columns wrapped plot. Default 3. size_title size title plot. Default 10. ... Additional arguments passed function","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magic_plot_wrap.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"magic_plot_wrap — magic_plot_wrap","text":"wrapped plot","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/magic_plot_wrap.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"magic_plot_wrap — magic_plot_wrap","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/map_to_parent.html","id":null,"dir":"Reference","previous_headings":"","what":"map_to_parent — map_to_parent","title":"map_to_parent — map_to_parent","text":"function get binary dataset gate assignation based mother population selected pop (instead root).","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/map_to_parent.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"map_to_parent — map_to_parent","text":"","code":"map_to_parent(gh, binary_df)"},{"path":"https://davidrach.github.io/flowMagic/reference/map_to_parent.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"map_to_parent — map_to_parent","text":"gh GatingHierarchy. binary_df Dataframe generated map_to_root function.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/map_to_parent.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"map_to_parent — map_to_parent","text":"Dataframe.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/map_to_parent.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"map_to_parent — map_to_parent","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/map_to_root.html","id":null,"dir":"Reference","previous_headings":"","what":"map_to_root — map_to_root","title":"map_to_root — map_to_root","text":"generates dataset indicating cells belong selected pop (1) 0 otherwise. Old name: pre_process_manual_binary() dataset always dataset Root pop. gh pop mandatory arguments, dim mode default value.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/map_to_root.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"map_to_root — map_to_root","text":"","code":"map_to_root(gh, pop)"},{"path":"https://davidrach.github.io/flowMagic/reference/map_to_root.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"map_to_root — map_to_root","text":"gh GatingHierarchy. pop Name population get events assignments.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/map_to_root.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"map_to_root — map_to_root","text":"Dataframe.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/map_to_root.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"map_to_root — map_to_root","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/name_pop_gating.html","id":null,"dir":"Reference","previous_headings":"","what":"name_pop_gating — name_pop_gating","title":"name_pop_gating — name_pop_gating","text":"function get name pops gating hierarchy.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/name_pop_gating.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"name_pop_gating — name_pop_gating","text":"","code":"name_pop_gating(gh)"},{"path":"https://davidrach.github.io/flowMagic/reference/name_pop_gating.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"name_pop_gating — name_pop_gating","text":"gh GatingHierarchy.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/name_pop_gating.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"name_pop_gating — name_pop_gating","text":"Vector characters.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/name_pop_gating.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"name_pop_gating — name_pop_gating","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/post_process_gates.html","id":null,"dir":"Reference","previous_headings":"","what":"post_process_gates — post_process_gates","title":"post_process_gates — post_process_gates","text":"function post process events model prediction.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/post_process_gates.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"post_process_gates — post_process_gates","text":"","code":"post_process_gates(   gated_df,   n_cores = 1,   thr_dist = 0.15,   include_zero = FALSE,   remove_centroids = TRUE,   type = \"dist\",   concavity_val = 5,   normalize_data = TRUE,   ... )"},{"path":"https://davidrach.github.io/flowMagic/reference/post_process_gates.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"post_process_gates — post_process_gates","text":"gated_df dataframe labels (third column). n_cores Number cores. Default 1. thr_dist Distance threshold centroids calculation. Default 0.15. include_zero Consider centroid label 0. Default False. remove_centroids Remove centroids near based thr_dist value. type Type post-processing. concavity_val Concavity polygons \"polygon\" type post-processing normalize_data TODOLIST ... Additional arguments passed function","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/post_process_gates.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"post_process_gates — post_process_gates","text":"Dataframe.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/post_process_gates.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"post_process_gates — post_process_gates","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/process_test_data.html","id":null,"dir":"Reference","previous_headings":"","what":"process_test_data — process_test_data","title":"process_test_data — process_test_data","text":"function get test data correctly formatted.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/process_test_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"process_test_data — process_test_data","text":"","code":"process_test_data(   test_data,   prop_down = NULL,   n_points_per_plot = 500,   normalize_data = TRUE )"},{"path":"https://davidrach.github.io/flowMagic/reference/process_test_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"process_test_data — process_test_data","text":"test_data Dataframe bivariate markers expression. prop_down Proportion events (downsampling). Default NULL (downsampling using number points). n_points_per_plot Number points downsampling. normalize_data True, data normalized 0-1 range. Default True.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/process_test_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"process_test_data — process_test_data","text":"Dataframe.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/process_test_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"process_test_data — process_test_data","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/range01.html","id":null,"dir":"Reference","previous_headings":"","what":"range01 — range01","title":"range01 — range01","text":"function put data range 0-1.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/range01.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"range01 — range01","text":"","code":"range01(x)"},{"path":"https://davidrach.github.io/flowMagic/reference/range01.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"range01 — range01","text":"x Vector numbers scale.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/range01.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"range01 — range01","text":"Vector numbers.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/range01.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"range01 — range01","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/smooth_hull.html","id":null,"dir":"Reference","previous_headings":"","what":"smooth_hull — smooth_hull","title":"smooth_hull — smooth_hull","text":"function smooth concave polygons","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/smooth_hull.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"smooth_hull — smooth_hull","text":"","code":"smooth_hull(hull_df, spar = 0.7, buffer_dist = 500)"},{"path":"https://davidrach.github.io/flowMagic/reference/smooth_hull.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"smooth_hull — smooth_hull","text":"hull_df Dataframe generate  concaveman functions inside get_huget_hull_all_gates function spar Spar value regulate smoothing process: higher value (max 1) higher smoothing. buffer_dist Regulate buffer distance smoothing. Default 500.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/smooth_hull.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"smooth_hull — smooth_hull","text":"Dataframe.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/smooth_hull.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"smooth_hull — smooth_hull","text":"","code":"A <- 2+2"},{"path":"https://davidrach.github.io/flowMagic/reference/update_label_association.html","id":null,"dir":"Reference","previous_headings":"","what":"update_label_association — update_label_association","title":"update_label_association — update_label_association","text":"function update label association.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/update_label_association.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"update_label_association — update_label_association","text":"","code":"update_label_association(df)"},{"path":"https://davidrach.github.io/flowMagic/reference/update_label_association.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"update_label_association — update_label_association","text":"df Dataframe.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/update_label_association.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"update_label_association — update_label_association","text":"Vector.","code":""},{"path":"https://davidrach.github.io/flowMagic/reference/update_label_association.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"update_label_association — update_label_association","text":"","code":"A <- 2+2"}]
